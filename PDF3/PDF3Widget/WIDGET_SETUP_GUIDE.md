# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—é Widget Extension –≤ Xcode

## üì± –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏–¥–∂–µ—Ç–æ–≤ –¥–ª—è PDF3

–Ø —Å–æ–∑–¥–∞–ª –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –≤–∏–¥–∂–µ—Ç–æ–≤ –¥–ª—è –≤–∞—à–µ–≥–æ PDF –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∏—Ö –≤ –ø—Ä–æ–µ–∫—Ç —á–µ—Ä–µ–∑ Xcode.

## üéØ –ß—Ç–æ —Å–æ–∑–¥–∞–Ω–æ:

### 1. **–û—Å–Ω–æ–≤–Ω–æ–π –≤–∏–¥–∂–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤** (PDF3Widget.swift)
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –†–∞–∑–º–µ—Ä: Medium (—Å—Ä–µ–¥–Ω–∏–π)
- –§—É–Ω–∫—Ü–∏–∏: –ø—Ä–æ—Å–º–æ—Ç—Ä –Ω–∞–∑–≤–∞–Ω–∏—è, –¥–∞—Ç—ã, –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç—Ä–∞–Ω–∏—Ü

### 2. **–í–∏–¥–∂–µ—Ç –±—ã—Å—Ç—Ä—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π** (QuickActionsWidget)
- 4 –±—ã—Å—Ç—Ä—ã–µ –∫–Ω–æ–ø–∫–∏: –°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å, –°–æ–∑–¥–∞—Ç—å PDF, –ü–æ–¥–ø–∏—Å–∞—Ç—å, –ü–æ–¥–µ–ª–∏—Ç—å—Å—è
- –†–∞–∑–º–µ—Ä: Small (–º–∞–ª–µ–Ω—å–∫–∏–π)
- –ü—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 3. **–í–∏–¥–∂–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏** (StatisticsWidget)
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, –¥–æ–∫—É–º–µ–Ω—Ç—ã –∑–∞ —Å–µ–≥–æ–¥–Ω—è, –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü
- –†–∞–∑–º–µ—Ä: Small (–º–∞–ª–µ–Ω—å–∫–∏–π)

## üîß –ü–æ—à–∞–≥–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ Xcode:

### –®–∞–≥ 1: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Widget Extension
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç PDF3 –≤ Xcode
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –ø—Ä–æ–µ–∫—Ç –≤ –Ω–∞–≤–∏–≥–∞—Ç–æ—Ä–µ (PDF3.xcodeproj)
3. –í–Ω–∏–∑—É —Å–ø–∏—Å–∫–∞ targets –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "+"
4. –í—ã–±–µ—Ä–∏—Ç–µ "Widget Extension"
5. –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
   - **Product Name**: `PDF3Widget`
   - **Bundle Identifier**: `com.example.myapp.PDF3Widget`
   - **Language**: Swift
   - **Include Configuration Intent**: –ù–ï –æ—Ç–º–µ—á–∞–π—Ç–µ
6. –ù–∞–∂–º–∏—Ç–µ "Finish"
7. Xcode —Å–ø—Ä–æ—Å–∏—Ç "Activate PDF3Widget scheme?" - –Ω–∞–∂–º–∏—Ç–µ "Activate"

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ App Groups (–≤–∞–∂–Ω–æ!)
1. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (PDF3):
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "Signing & Capabilities"
   - –ù–∞–∂–º–∏—Ç–µ "+ Capability"
   - –î–æ–±–∞–≤—å—Ç–µ "App Groups"
   - –°–æ–∑–¥–∞–π—Ç–µ –≥—Ä—É–ø–ø—É: `group.com.example.myapp.widgets`

2. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –≤–∏–¥–∂–µ—Ç–∞ (PDF3Widget):
   - –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —Ç–æ –∂–µ —Å–∞–º–æ–µ
   - –î–æ–±–∞–≤—å—Ç–µ —Ç—É –∂–µ –≥—Ä—É–ø–ø—É: `group.com.example.myapp.widgets`

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ URL —Å—Ö–µ–º—ã
1. –í –æ—Å–Ω–æ–≤–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ (PDF3), –≤ Info.plist –¥–æ–±–∞–≤—å—Ç–µ:
```xml
<key>CFBundleURLTypes</key>
<array>
    <dict>
        <key>CFBundleURLName</key>
        <string>PDF3 Widget Actions</string>
        <key>CFBundleURLSchemes</key>
        <array>
            <string>pdf3</string>
        </array>
    </dict>
</array>
```

### –®–∞–≥ 4: –ó–∞–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ –≤–∏–¥–∂–µ—Ç–∞
1. –£–¥–∞–ª–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ PDF3Widget:
   - `PDF3Widget.swift`
   - `PDF3WidgetBundle.swift`
   - `Info.plist`

2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –º–Ω–æ–π —Ñ–∞–π–ª—ã:
   - `PDF3Widget.swift` (–æ—Å–Ω–æ–≤–Ω–æ–π –≤–∏–¥–∂–µ—Ç)
   - `PDF3WidgetBundle.swift` (bundle –≤–∏–¥–∂–µ—Ç–æ–≤)
   - `AdditionalWidgets.swift` (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–∏–¥–∂–µ—Ç—ã)
   - `WidgetDataProvider.swift` (–ø—Ä–æ–≤–∞–π–¥–µ—Ä –¥–∞–Ω–Ω—ã—Ö)
   - `Info.plist` (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)

### –®–∞–≥ 5: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ –ø—Ä–æ–µ–∫—Ç
1. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –≤—Å–µ —Ñ–∞–π–ª—ã –∏–∑ –ø–∞–ø–∫–∏ PDF3Widget –≤ Xcode
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ target "PDF3Widget" –≤—ã–±—Ä–∞–Ω –¥–ª—è –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤
3. –î–ª—è —Ñ–∞–π–ª–∞ `WidgetDataProvider.swift` —Ç–∞–∫–∂–µ –≤—ã–±–µ—Ä–∏—Ç–µ target "PDF3" (–æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)

### –®–∞–≥ 6: –°–±–æ—Ä–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
1. –í—ã–±–µ—Ä–∏—Ç–µ scheme "PDF3Widget"
2. –ù–∞–∂–º–∏—Ç–µ ‚åò+R –¥–ª—è –∑–∞–ø—É—Å–∫–∞
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –≤–∏–¥–∂–µ—Ç–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
4. –í–∏–¥–∂–µ—Ç –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –≤ —Å–∏–º—É–ª—è—Ç–æ—Ä–µ

## üìä –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ—Å–Ω–æ–≤–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º:

–î–æ–±–∞–≤—å—Ç–µ –≤ –≤–∞—à–∏ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ –≤—ã–∑–æ–≤—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤–∏–¥–∂–µ—Ç–∞:

```swift
// –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏/–∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
let widgetDocs = documents.map { doc in
    WidgetDocumentData(
        name: doc.name,
        date: doc.createdAt,
        pageCount: doc.pageCount
    )
}
WidgetDataProvider.shared.updateRecentDocuments(widgetDocs)
```

## üé® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤–∏–¥–∂–µ—Ç–æ–≤:

### –û—Å–Ω–æ–≤–Ω–æ–π –≤–∏–¥–∂–µ—Ç:
- ‚úÖ –°–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 3 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- ‚úÖ –ù–∞–∑–≤–∞–Ω–∏–µ, –¥–∞—Ç–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü
- ‚úÖ Tap –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞
- ‚úÖ Tap –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:
- ‚úÖ –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ PDF
- ‚úÖ –ü–æ–¥–ø–∏—Å—å –¥–æ–∫—É–º–µ–Ω—Ç–∞
- ‚úÖ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–º

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
- ‚úÖ –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç—ã —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Å–µ–≥–æ–¥–Ω—è
- ‚úÖ –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü

## üîó URL —Å—Ö–µ–º—ã –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:

–í–∏–¥–∂–µ—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–ª–µ–¥—É—é—â–∏–µ URL –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º:
- `pdf3://open` - –æ—Ç–∫—Ä—ã—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- `pdf3://open/DocumentName` - –æ—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç
- `pdf3://scan` - –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫–∞–Ω–µ—Ä
- `pdf3://create` - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π PDF
- `pdf3://sign` - —Ä–µ–∂–∏–º –ø–æ–¥–ø–∏—Å–∏
- `pdf3://share` - –ø–æ–¥–µ–ª–∏—Ç—å—Å—è
- `pdf3://statistics` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

–û–±—Ä–∞–±–æ—Ç–∫–∞ URL —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ `PDF3App.swift`.

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç:

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–º–æ–≥—É—Ç:
1. **–ë—ã—Å—Ç—Ä–æ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å** –Ω–µ–¥–∞–≤–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. **–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å** –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –¥–æ–º–∞—à–Ω–µ–≥–æ —ç–∫—Ä–∞–Ω–∞
3. **–û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è PDF –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
4. **–≠–∫–æ–Ω–æ–º–∏—Ç—å –≤—Ä–µ–º—è** –Ω–∞ –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω—ã—Ö –∑–∞–¥–∞—á–∞—Ö

–í–∏–¥–∂–µ—Ç—ã —Å–æ–∑–¥–∞–Ω—ã –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º —Å—Ç–∏–ª–µ iOS —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Dark Mode –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º –¥–∏–∑–∞–π–Ω–æ–º!